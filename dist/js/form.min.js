import{thanksModal}from"./modal.min.js";const orderInputs=document.querySelectorAll(".orderForm-input"),timeInputs=document.querySelectorAll(".time-block__timepicker");let inputsObj=JSON.parse(localStorage.getItem("orderForm"))||{};function getSelectedTime(){timeInputs.forEach(e=>{e.value&&(inputsObj={...inputsObj,[e.name]:e.value})})}orderInputs.forEach(e=>{e.addEventListener("change",()=>{e.value&&(inputsObj=Array.from(orderInputs).filter(e=>""!==e.value).reduce((e,t)=>({...e,[t.name]:t.value}),{}))})});const forms=document.querySelectorAll("form"),message={loading:"Загрузка...",success:"Спасибо! Скоро мы с вами свяжемся",failure:"Что-то пошло не так..."};function postData(e){$("#phoneDeliver").mask("+380 (99) 999-99-99"),$("#phoneTakeMySelf").mask("+380 (99) 999-99-99"),e.addEventListener("submit",t=>{t.preventDefault();let o=document.createElement("div");o.classList.add("status"),e.appendChild(o);const a=new XMLHttpRequest;a.open("POST","send-message-to-telegram.php");const s=new FormData(e);a.send(s),a.addEventListener("load",()=>{200===a.status?(console.log(a.response),e.reset(),thanksModal(),localStorage.clear()):o.textContent=message.failure})})}forms.forEach(e=>{postData(e)});