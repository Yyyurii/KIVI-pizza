const orderInputs=document.querySelectorAll(".orderForm-input"),submitOrder=document.querySelectorAll(".order__btn"),timeInputs=document.querySelectorAll(".time-block__timepicker");let inputsObj=JSON.parse(localStorage.getItem("orderForm"))||{};function getSelectedTime(){timeInputs.forEach(e=>{e.value&&(inputsObj={...inputsObj,[e.name]:e.value})})}orderInputs.forEach(e=>{e.addEventListener("change",()=>{e.value&&(inputsObj=Array.from(orderInputs).filter(e=>""!==e.value).reduce((e,t)=>({...e,[t.name]:t.value}),{}))})});const pizzaNameAndUnits=document.querySelectorAll(".basket__price-total-input");let cartOrder=JSON.parse(localStorage.getItem("CART"))||[],pizzaUnits="";cartOrder.forEach(e=>{pizzaUnits+=`${e.name} ${e.numberOfUnits}; `}),pizzaNameAndUnits&&pizzaNameAndUnits.forEach(e=>{e.value=pizzaUnits});const forms=document.querySelectorAll("form"),message={loading:"Загрузка...",success:"Спасибо! Скоро мы с вами свяжемся",failure:"Что-то пошло не так..."};function postData(e){e.addEventListener("submit",t=>{t.preventDefault();let r=document.createElement("div");r.classList.add("status"),e.appendChild(r);const n=new XMLHttpRequest;n.open("POST","send-message-to-telegram.php");const a=new FormData(e);n.send(a),n.addEventListener("load",()=>{200===n.status?(console.log(n.response),e.reset()):r.textContent=message.failure})})}forms.forEach(e=>{postData(e)});